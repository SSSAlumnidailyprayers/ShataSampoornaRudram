<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Rudra Parayanam Assignment</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f9f9f9; }
    h2 { color: #444; }
    table { width: 100%; border-collapse: collapse; background: #fff; }
    th, td { border: 1px solid #ccc; padding: 10px; }
    th { background-color: #e0f7fa; }
    input[type="text"] {
      width: 100%;
      border: none;
      background: transparent;
      font-size: 14px;
    }
    input[type="text"]:focus {
      outline: none;
      background: #f0f8ff;
    }
    button { margin-top: 10px; margin-right: 10px; padding: 8px 12px; }
  </style>
</head>
<body>
  <h2>Rudra Parayanam Assignment</h2>
  <p>Editable version: Add/Edit segments, sections, and assignments below. Fields and sections are all editable. Saved locally.</p>

  <table id="assignmentTable">
    <thead>
      <tr><th>Chant / Segment</th><th>Assigned To</th></tr>
    </thead>
    <tbody id="tableBody">
      <tr><td><input type="text" value="Omkaram & Ganapathi Prarthana"></td><td><input type="text" value="Ridith"></td></tr>
    </tbody>
  </table>

  <button onclick="addRow()">Add Row</button>
  <button onclick="addSection()">Add Section Header</button>
  <button onclick="saveTable()">Save</button>
  <button onclick="clearTable()">Clear</button>

  <script>
    function addRow() {
      const tbody = document.getElementById('tableBody');
      const row = document.createElement('tr');
      row.innerHTML = `
        <td><input type="text"></td>
        <td><input type="text"></td>
      `;
      tbody.appendChild(row);
    }

    function addSection() {
      const tbody = document.getElementById('tableBody');
      const row = document.createElement('tr');
      row.innerHTML = `
        <td colspan="2"><input type="text" style="width: 100%; font-weight: bold; background-color: #c8e6c9;"></td>
      `;
      tbody.appendChild(row);
    }

    function saveTable() {
      const rows = document.querySelectorAll('#assignmentTable tbody tr');
      const data = [];
      rows.forEach(row => {
        const inputs = row.querySelectorAll('input');
        if (inputs.length === 1) {
          data.push([inputs[0].value, null]);
        } else if (inputs.length === 2) {
          data.push([inputs[0].value, inputs[1].value]);
        }
      });
      localStorage.setItem('rudraAssignments', JSON.stringify(data));
      alert('Assignments saved locally.');
    }

    function clearTable() {
      if (confirm('Clear all assignments?')) {
        document.getElementById('tableBody').innerHTML = '';
        localStorage.removeItem('rudraAssignments');
      }
    }

    window.onload = () => {
      const data = JSON.parse(localStorage.getItem('rudraAssignments') || '[]');
      const tbody = document.getElementById('tableBody');
      data.forEach(row => {
        const tr = document.createElement('tr');
        if (row[1] === null) {
          tr.innerHTML = `<td colspan="2"><input type="text" style="width: 100%; font-weight: bold; background-color: #c8e6c9;" value="${row[0]}"></td>`;
        } else {
          tr.innerHTML = `<td><input type="text" value="${row[0]}"></td><td><input type="text" value="${row[1]}"></td>`;
        }
        tbody.appendChild(tr);
      });
    };
  </script>
</body>
</html>
“Initial upload”

